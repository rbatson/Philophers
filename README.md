Работа с мультипоточностью и использование mutex чтобы предотвратить одновременное изменение данных потоками.
